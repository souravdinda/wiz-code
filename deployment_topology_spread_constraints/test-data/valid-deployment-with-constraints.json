{
  "kind": "Deployment",
  "metadata": {
    "name": "web-app",
    "namespace": "production"
  },
  "spec": {
    "replicas": 3,
    "template": {
      "spec": {
        "topologySpreadConstraints": [
          {
            "maxSkew": 1,
            "topologyKey": "kubernetes.io/hostname",
            "whenUnsatisfiable": "DoNotSchedule",
            "labelSelector": {
              "matchLabels": {
                "app": "web-app"
              }
            }
          }
        ],
        "containers": [
          {
            "name": "nginx",
            "image": "nginx:1.21"
          }
        ]
      }
    }
  }
}

